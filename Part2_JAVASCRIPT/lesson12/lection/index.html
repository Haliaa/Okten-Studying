<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Title</title>
</head>
<body>
<!--Принцип роботи сайтів та get запитів -->   <!--html page-->
<!--відмінність від апі--> <!--raw data-->

<!--<ul class="posts"></ul>-->

<form name="saveUserForm">
    <input type="text" name="name">
    <input type="text" name="username">
    <input type="text" name="email">
    <button></button>
</form>


<script>
    // let xhr = new XMLHttpRequest();
    // 			// 2. Конфигурируем
    // xhr.open('GET', 'http://jsonplaceholder.typicode.com/users', true);
    // 			// 3. Отправляем
    // xhr.send();
    // xhr.onload = function () {
    //     console.log(xhr.response);
    // }


    // fetch('https://jsonplaceholder.typicode.com/posts')
    //     .then(xxx => xxx.json())
    //     .then(postsData => {
    //
    //
    //         let postsBlock = document.getElementsByClassName('posts')[0];
    //         for (const postItem of postsData) {
    //             let postItemLi = document.createElement('li');
    //             postItemLi.innerText = postItem.body;
    //             postsBlock.appendChild(postItemLi);
    //
    //
    //         }
    //
    //
    //     });


    let form = document.forms.saveUserForm;
    form.onsubmit = (e) => {
        e.preventDefault();
        let name = form.name.value;
        let username = form.username.value;
        let email = form.email.value;

        fetch('https://jsonplaceholder.typicode.com/users', {
            method: 'POST',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({name, username, email})
        })
            .then(value => value.json())
            .then(value => {
                fetch('https://jsonplaceholder.typicode.com/users')
                    .then(value => value.json())
                    .then(users => {
                        console.log(users);
                    });

            });


    }


</script>

<!--etch get  users/:id/posts работа с  api-->
<!--варіації методів-->

</body>
</html>